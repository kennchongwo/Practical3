<!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * -->
<!-- * * * * * * * * * * * The content below * * * * * * * * * * * -->
<!-- * * * * * * * * * * is only a placeholder * * * * * * * * * * -->
<!-- * * * * * * * * * * and can be replaced. * * * * * * * * * * * -->
<!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * -->
<!-- * * * * * * * * * Delete the template below * * * * * * * * * * -->
<!-- * * * * * * * to get started with your project! * * * * * * * * -->
<!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * -->



<div class="container-xl">
  <div class="container">
<div class="row">
  <div class="col-md-12">

    <div *ngIf="dataLoaded;then content else other_content">here is ignored</div>
    <ng-template #content>

        <table class="table table-striped table-hover" id="projects">
            <thead>
                <tr>
                    <th>Project Title</th>
                    <th>paas code</th>
                    <th>Fund</th>
                    <th>Unit</th>
                    
                    <th>Status</th>
                    <th>pag Value</th>
                    

                    <th>Actions</th>
                </tr>
            </thead>
            <tbody *ngFor="let cust of projects; let k = index">
                <tr>
                    <td>
                        {{ cust.projectTitle }}
                    </td>
                    <td>
                        {{ cust.paascode.paascodeName }}
                    </td>
                    <td>
                        {{ cust.fund.fundName }}
                    </td>
                    <td>
                        {{ cust.leadOrgUnit. orgUnitName}}
                    </td>
                   

                    <td>
                        {{ cust.approvalStatus }}
                    </td>

                    <td>
                      {{ cust.pagValue }}
                  </td>
                    
                    <td>

                        <a href="#confirmDialogModal" data-toggle="modal">
                            Update
                        </a>
                        &nbsp; &nbsp;
                        

                        &nbsp; &nbsp;
                        <a href="#addInvestment" data-toggle="modal">
                            delete

                        </a>
                    </td>
                </tr>
                
            </tbody>
        </table>
    </ng-template>
    <ng-template #other_content>
        <div class="col-md-12 single-note-item text-center">
            <div class="spinner-border text-info" role="status"></div>
        </div>
    </ng-template>

    <!-- <div *ngIf="dataLoaded;then content else other_content">here is ignored</div> -->
    <ng-container>


    </ng-container>
</div>
</div>


    <div class="table-wrapper">
      <div>
        <form #prjForm="ngForm" (ngSubmit)="saveProject(prjForm)">
          <div class="modal-header">
            <h4 class="modal-title">Post Expense</h4>
            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
          </div>
          <div class="modal-body">

            <div class="form-group">
              <label>Project Title</label>
              <input type="text" ngModel name="projectTitle" class="form-control" required>
              <input type="hidden" value="0" name="id">
            </div>

            <div class="form-group">
              <label>Lead Organization Unit</label>
              <select class="form-control" name="leadOrg" [(ngModel)]="selectedLeadOrg" required>
                <option *ngFor="let cat of leadOrgs" [ngValue]="cat">
                  {{cat.orgUnitName}}
                </option>
              </select>
            </div>

            <div class="form-group">
              <label>Paas Code</label>
              <select class="form-control" name="passCodee" [(ngModel)]="selectedpassCode" required>
                <option *ngFor="let cat of paasCodes" [ngValue]="cat">
                  {{cat.paascodeName}}
                </option>
              </select>
            </div>

            <div class="form-group">
              <label>Fund</label>
              <select class="form-control" name="passCodee" [(ngModel)]="selectedfund" required>
                <option *ngFor="let cat of funds" [ngValue]="cat">
                  {{cat.fundName}}
                </option>
              </select>
            </div>

            <div class="form-group">
              <label>pag Value</label>
              <input type="text" ngModel name="pagValue" class="form-control" required>
              <input type="hidden" value="0" name="id">
            </div>

            <div class="form-group">
              <label>Approval Status</label>
              <select class="form-control" name="approvalStatus" required>
                <option value="Approved">
                  Approved
                </option>
                <option value="Completed">
                  Completed
                </option>
              </select>
            </div>
            <div class="form-group">
              <label>Total Expenditure</label>
              <input type="text" ngModel name="totalExpenditure" class="form-control" required>
              <input type="hidden" value="0" name="id">
            </div>
            <div class="form-group">
              <label>Total Contribution</label>
              <input type="text" ngModel name="totalContribution" class="form-control" required>
              <input type="hidden" value="0" name="id">
            </div>

            <div class="form-group">
              <label>Total Psc</label>
              <input type="text" ngModel name="totalPsc" class="form-control" required>
              <input type="hidden" value="0" name="id">
            </div>


            <div class="form-group">


              <input type="hidden" name="startDate" value="">
              <input type="hidden" name="endDate" value="">
              <input type="hidden" name="id" value="0">
            </div>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-warning btn-sm" id="closeModalFLI" data-dismiss="modal">
              Cancel
            </button>
            <button type="submit" [disabled]="prjForm.invalid || (isLoading$ | async)" class="btn btn-success btn-sm">
              <i *ngIf="isLoading$ | async" class="fas fa-spinner fa-spin"></i>
              <span *ngIf="isLoading$ | async">Saving...</span>
              <span *ngIf="!(isLoading$ | async)">Save</span>
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>
  <router-outlet></router-outlet>